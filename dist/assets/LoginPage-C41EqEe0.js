import{_ as d,a as c}from"./FormButton-CvPA4Zvu.js";import{d as p,m as f,n as h,r as _,e as g,o as k,c as v,g as i,i as l,h as a,j as w,k as x}from"./index-DIzzULu7.js";import{a as V}from"./axios-B4uVmeYG.js";const y=p("authorization",()=>{function u(r){return new Promise((s,e)=>{V.post("http://localhost:8507/api/users/auth",r).then(t=>{console.log("Token muvaffaqiyatli olindi"),localStorage.setItem("token",t.data.token),s()}).catch(t=>{console.log("token olishda xatolik"),console.log(t),e()})})}return{userAuth:u}}),b={class:"row justify-content-center align-items-center vh-100"},j={class:"col-12 col-sm-8 col-md-6 col-xl-4"},z=i("h1",{class:"text-center"},"Kirish",-1),A={class:"d-flex justify-content-between"},$={__name:"LoginPage",setup(u){const r=f();let s=h(!1),e=_({email:"",password:""});function t(){s.value=!0,y().userAuth(e).then(()=>{r.push("/")})}return(B,o)=>{const m=g("router-link");return k(),v("div",b,[i("div",j,[z,i("form",null,[l(d,{modelValue:a(e).email,"onUpdate:modelValue":o[0]||(o[0]=n=>a(e).email=n),"props-id":"email","input-type":"email","label-name":"Email"},null,8,["modelValue"]),l(d,{modelValue:a(e).password,"onUpdate:modelValue":o[1]||(o[1]=n=>a(e).password=n),"props-id":"password","input-type":"password","label-name":"Parol"},null,8,["modelValue"]),i("div",A,[l(c,{onClick:o[2]||(o[2]=n=>t()),loading:a(s),name:"Kirish",class:"btn-primary"},null,8,["loading"]),l(m,{class:"btn btn-outline-info",to:"registration"},{default:w(()=>[x("Royhatdan o'tish")]),_:1})])])])])}}};export{$ as default};
