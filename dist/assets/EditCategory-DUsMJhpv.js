import{_ as b,a as x}from"./FormButton-CvPA4Zvu.js";import{u as d}from"./getCategories-B0L5wfag.js";import{d as _,b as K,n as g,o as l,c as r,h as m,g as e,i as f,p as z,F as O,f as V,t as p}from"./index-DIzzULu7.js";import"./axios-Df_MYvD6.js";import{a as v}from"./axios-B4uVmeYG.js";const D=_("changeCategory",()=>{function c(s,o){return new Promise((t,i)=>{v.put("categories/"+s,o).then(h=>{console.log("Kategoriya muvaffaqiyatli ozgardi"),t()}).catch(()=>{console.log("Kategoriya ozgarishda xatolik"),i()})})}return{categoryChange:c}}),$=_("deleteCategories",()=>{function c(s){return new Promise((o,t)=>{v.delete("categories/"+s).then(i=>{console.log("Kategoriya muvaffaqiyatli ochirildi"),o()}).catch(()=>{console.log("Kategoriya ochirishda xatolik"),t()})})}return{categoriesDelete:c}}),q={key:0,class:"row"},w={class:"col-12 col-md-6"},B={class:"text-end"},F={key:1,class:"table border"},E=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Id"),e("th",{scope:"col"},"Kategoriya nomi"),e("th",{scope:"col"},"O'zgartirish"),e("th",{scope:"col"},"O'chirish")])],-1),G=["onClick"],N=["onClick"],U={__name:"EditCategory",setup(c){const s=K(()=>d().state.categories);let o=g(!1),t=g(""),i=g();function h(n){o.value=!0,t.value=n.name,i.value=n.id}function y(){D().categoryChange(i.value,{name:t.value}).then(()=>{d().categoriesGet(),o.value=!1})}function C(n){$().categoriesDelete(n).then(()=>{d().categoriesGet(),console.log("Kategoriya muvaffaqiyatli ochirildi")})}return(n,u)=>(l(),r("div",null,[m(o)?(l(),r("div",q,[e("div",w,[f(b,{modelValue:m(t),"onUpdate:modelValue":u[0]||(u[0]=a=>z(t)?t.value=a:t=a),"props-id":"category","label-name":"Kategoriya nomi"},null,8,["modelValue"]),e("div",B,[f(x,{onClick:u[1]||(u[1]=a=>y()),name:"O'zgartirish",class:"btn-success"})])])])):(l(),r("table",F,[E,e("tbody",null,[(l(!0),r(O,null,V(s.value,a=>(l(),r("tr",{key:a.id},[e("th",null,p(a.id),1),e("td",null,p(a.name),1),e("td",null,[e("span",{onClick:k=>h(a),class:"btn text-success"}," O'zgartirish ",8,G)]),e("td",null,[e("span",{onClick:k=>C(a.id),class:"btn btn-danger"}," Ochirish ",8,N)])]))),128))])]))]))}};export{U as default};
